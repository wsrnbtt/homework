#include <stdio.h>
#include <string.h>

char *reverse(char *dest, const char str1[])
{
    int len = strlen(str1);
    
    if (len >= 50) 
    {
        return NULL;
    }

    // คัดลอกก่อน แล้วสลับภายใน dest
    strcpy(dest, str1);
    
    int left = 0;
    int right = len - 1;
    char temp;

    while (left < right) 
    {
        temp = dest[left];
        dest[left] = dest[right];
        dest[right] = temp;
        
        left++;
        right--;
    }

    return dest;
}

int main()
{
    char text[50] = "I Love You";
    char out_buffer[50];
    char *out = reverse(out_buffer, text);

    printf("Input: \"%s\"\n", text);
    
    if (out != NULL)
    {
        printf("Output: \"%s\"\n\n", out);
    }
    else
    {
        printf("Error: Input string too long (Limit 49 chars).\n\n");
    }

    char text2[50] = "Hello World";
    char out2_buffer[50];
    char *out2 = reverse(out2_buffer, text2);

    printf("Input: \"%s\"\n", text2);
    
    if (out2 != NULL)
    {
        printf("Output: \"%s\"\n", out2);
    }
    else
    {
        printf("Error: Input string too long (Limit 49 chars).\n");
    }

    return 0;
}
