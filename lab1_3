#include <stdio.h>

int *GetSet(int *num_count_prototype);

void DisplaySet(const int *data, int num_count);

int main()
{
    int *data;
    int num_count;

    data = GetSet(&num_count);

    DisplaySet(data, num_count);

    return 0;
}

void DisplaySet(const int *data, int num_count)
{
    printf("value (%d ): ", num_count);

    if(num_count > 0 && data != NULL)
    {
        for (int i = 0; i < num_count; i++)
        {
            printf("%d ", data[i]);
        }
        printf("\n");
    }
    else
    {
        printf("\n invalid\n"); 
    }
}

int *GetSet(int *num_count_prototype)
{
    static int data[20]; 
    int X; 
    const int MAX_SIZE = 20;

    printf("input value (max%d): ", MAX_SIZE); 

    if(scanf("%d", &X) != 1 || X <= 0 || X > MAX_SIZE)
    {
        printf("! invalid value \n"); 
        *num_count_prototype = 0;
        return NULL;
    }

    printf("%d :\n", X); 

    for(int i = 0; i < X; i++)
    {
        if(scanf("%d", &data[i]) != 1)
        {
            printf("! invalid %d \n", i); 
            X = i ; 
            break;
        }
    }

    *num_count_prototype = X;
    return data;
}
